<!DOCTYPE html>
<html>
    <head>
  <meta charset="utf-8">
  
  <title>Drupal7 Theme 详解 | ForeverGlory&#39;s Pieces</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Drupal7 Theme 详解 （未完）theme(&apos;theme_name&apos;); definition elementrender element orderstart=&amp;gt;start: theme($element)preprocess: theme_preprocess_&amp;#123;$element&amp;#125;process: theme_process_$&amp;#123;element&amp;#">
<meta name="keywords" content="Drupal7,Theme">
<meta property="og:type" content="article">
<meta property="og:title" content="Drupal7 Theme 详解">
<meta property="og:url" content="/piece/Drupal7 Theme 执行顺序.html">
<meta property="og:site_name" content="ForeverGlory&#39;s Pieces">
<meta property="og:description" content="Drupal7 Theme 详解 （未完）theme(&apos;theme_name&apos;); definition elementrender element orderstart=&amp;gt;start: theme($element)preprocess: theme_preprocess_&amp;#123;$element&amp;#125;process: theme_process_$&amp;#123;element&amp;#">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2016-10-20T11:38:18.149Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Drupal7 Theme 详解">
<meta name="twitter:description" content="Drupal7 Theme 详解 （未完）theme(&apos;theme_name&apos;); definition elementrender element orderstart=&amp;gt;start: theme($element)preprocess: theme_preprocess_&amp;#123;$element&amp;#125;process: theme_process_$&amp;#123;element&amp;#">
  
    <link rel="alternate" href="/atom.xml" title="ForeverGlory&#39;s Pieces" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <!--link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css"-->
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/book.css">
  <script src="/js/jquery.js"></script>
  <script src="/js/turn.js"></script>
  <script src="/js/book.js"></script>
</head>

    <body>
        <div id="wrap">
            <div id="canvas">
    <div class="book-viewport">
        <div class="book">
            <!-- Previous button -->
            <div ignore="1" class="previous-button">
                
                    <a href="/piece/Javascript 模拟 键盘+鼠标 事件.html">
                        Javascript 模拟 键盘/鼠标 事件
                    </a>
                
            </div>
            <div class="hard front-cover"></div>
            <div class="hard front-side"></div>

            <div class="fixed">
                <div class="gradient"></div>
                <div class="book-navigation">
                    <ul>
                        
                            <li>
                                <a href="/piece/CSS 常用五类选择器.html" data-post="piece/CSS 常用五类选择器.html"
                                    
                                >
                                    最常用的五类CSS选择器 <!--span>0</span-->
                                </a>
                            </li>
                        
                            <li>
                                <a href="/piece/Composer 插件之 Component.html" data-post="piece/Composer 插件之 Component.html"
                                    
                                >
                                    Composer 插件之 Component <!--span>0</span-->
                                </a>
                            </li>
                        
                            <li>
                                <a href="/piece/Composer 插件之 Bower.html" data-post="piece/Composer 插件之 Bower.html"
                                    
                                >
                                    Composer 插件之 Bower <!--span>0</span-->
                                </a>
                            </li>
                        
                            <li>
                                <a href="/piece/Composer 自定脚本执行.html" data-post="piece/Composer 自定脚本执行.html"
                                    
                                >
                                    Composer 执行脚本 <!--span>0</span-->
                                </a>
                            </li>
                        
                            <li>
                                <a href="/piece/Drupal7 代码执行 Drush.html" data-post="piece/Drupal7 代码执行 Drush.html"
                                    
                                >
                                    Drupal7 代码执行 Drush <!--span>0</span-->
                                </a>
                            </li>
                        
                            <li>
                                <a href="/piece/Drupal7 Entity 查询.html" data-post="piece/Drupal7 Entity 查询.html"
                                    
                                >
                                    Drupal7 Entity 查询 <!--span>0</span-->
                                </a>
                            </li>
                        
                            <li>
                                <a href="/piece/Doctrine Entity 关系之 inversedBy-mappedBy.html" data-post="piece/Doctrine Entity 关系之 inversedBy-mappedBy.html"
                                    
                                >
                                    Doctrine Entity 关系之 inversedBy-mappedBy <!--span>0</span-->
                                </a>
                            </li>
                        
                            <li>
                                <a href="/piece/Drupal7 Theme 执行顺序.html" data-post="piece/Drupal7 Theme 执行顺序.html"
                                    
                                        data-current=true
                                    
                                >
                                    Drupal7 Theme 详解 <!--span>0</span-->
                                </a>
                            </li>
                        
                            <li>
                                <a href="/piece/Linux 自动输入密码.html" data-post="piece/Linux 自动输入密码.html"
                                    
                                >
                                    Linux 自动输入密码 <!--span>0</span-->
                                </a>
                            </li>
                        
                            <li>
                                <a href="/piece/Javascript 原生 Ajax 请求.html" data-post="piece/Javascript 原生 Ajax 请求.html"
                                    
                                >
                                    原生 Javascript Ajax 请求 <!--span>0</span-->
                                </a>
                            </li>
                        
                            <li>
                                <a href="/piece/Linux 命令行不区分大小写.html" data-post="piece/Linux 命令行不区分大小写.html"
                                    
                                >
                                    Linux 命令行不区分大小写 <!--span>0</span-->
                                </a>
                            </li>
                        
                            <li>
                                <a href="/piece/Javascript 模拟 键盘+鼠标 事件.html" data-post="piece/Javascript 模拟 键盘+鼠标 事件.html"
                                    
                                >
                                    Javascript 模拟 键盘/鼠标 事件 <!--span>0</span-->
                                </a>
                            </li>
                        
                            <li>
                                <a href="/piece/Symfony Form EntityType 使用.html" data-post="piece/Symfony Form EntityType 使用.html"
                                    
                                >
                                    Symfony EntityType 使用 <!--span>0</span-->
                                </a>
                            </li>
                        
                            <li>
                                <a href="/piece/Symfony 代码执行 Command.html" data-post="piece/Symfony 代码执行 Command.html"
                                    
                                >
                                    Symfony 代码执行 Command <!--span>0</span-->
                                </a>
                            </li>
                        
                            <li>
                                <a href="/piece/Symfony 判断用户密码.html" data-post="piece/Symfony 判断用户密码.html"
                                    
                                >
                                    Symfony 判断用户密码 <!--span>0</span-->
                                </a>
                            </li>
                        
                            <li>
                                <a href="/piece/Twig for 标签.html" data-post="piece/Twig for 标签.html"
                                    
                                >
                                    Twig for 标签 <!--span>0</span-->
                                </a>
                            </li>
                        
                    </ul>
                </div>
            </div>

            <div class="page-current" data-post="piece/Drupal7 Theme 执行顺序.html" data-title="Drupal7 Theme 详解" data-url="/piece/Drupal7 Theme 执行顺序.html">
                <!-- //对应 post-id, post-url -->
                <div class="gradient"></div>
                <div class="book-content">
                    <h1 id="Drupal7-Theme-详解-（未完）"><a href="#Drupal7-Theme-详解-（未完）" class="headerlink" title="Drupal7 Theme 详解 （未完）"></a>Drupal7 Theme 详解 （未完）</h1><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">theme(<span class="string">'theme_name'</span>);</div></pre></td></tr></table></figure>
<h2 id="definition-element"><a href="#definition-element" class="headerlink" title="definition element"></a>definition element</h2><h2 id="render-element-order"><a href="#render-element-order" class="headerlink" title="render element order"></a>render element order</h2><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">start=&gt;start: theme($element)</div><div class="line">preprocess: theme_preprocess_&#123;$element&#125;</div><div class="line">process: theme_process_$&#123;element&#125;</div><div class="line"></div><div class="line">render=&gt;operation: function_exists($&#123;module&#125;_$&#123;element&#125;)</div><div class="line">cond=&gt;condition: Exists or No?</div><div class="line"></div><div class="line">render_function: theme_$&#123;element&#125;</div><div class="line">render_template: render file://$&#123;theme&#125;/$&#123;element&#125;.tpl.php</div><div class="line"></div><div class="line">end=&gt;end</div><div class="line"></div><div class="line">start-&gt;preprocess-&gt;process-&gt;render-&gt;cond</div><div class="line">cond(yes)-&gt;render_function-&gt;end</div><div class="line">cond(no)-&gt;render_template-&gt;end</div></pre></td></tr></table></figure>
<h3 id="preprocess"><a href="#preprocess" class="headerlink" title="preprocess"></a>preprocess</h3><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">$&#123;module&#125;_preprocess_theme_name(&amp;$variables);</div></pre></td></tr></table></figure>
<h3 id="process"><a href="#process" class="headerlink" title="process"></a>process</h3><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">$&#123;module&#125;_process_theme_name(&amp;$variables);</div></pre></td></tr></table></figure>
<h3 id="module-element"><a href="#module-element" class="headerlink" title="${module}_${element}"></a>${module}_${element}</h3><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 返回 html</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * <span class="doctag">@see</span></span></div><div class="line"><span class="comment"> *  - theme_link()</span></div><div class="line"><span class="comment"> *  - theme_table()</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * <span class="doctag">@param</span> array $variables</span></div><div class="line"><span class="comment"> *  An associative array containing:</span></div><div class="line"><span class="comment"> *  - element Structured array data for $&#123;theme_name&#125;</span></div><div class="line"><span class="comment"> * <span class="doctag">@return</span> string</span></div><div class="line"><span class="comment"> *  The constructed HTML.</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * <span class="doctag">@example</span></span></div><div class="line"><span class="comment"> *  - bootstrap_menu_tree()</span></div><div class="line"><span class="comment"> *  - bootstrap_table()</span></div><div class="line"><span class="comment"> */</span></div><div class="line">$&#123;module&#125;_$&#123;element&#125;($variables);</div></pre></td></tr></table></figure>
<h2 id="element-example"><a href="#element-example" class="headerlink" title="element example"></a>element example</h2><h3 id="theme-‘html’"><a href="#theme-‘html’" class="headerlink" title="theme(‘html’)"></a>theme(‘html’)</h3><p>file://${theme_path}/html.tpl.php</p>
<h3 id="theme-‘page’"><a href="#theme-‘page’" class="headerlink" title="theme(‘page’)"></a>theme(‘page’)</h3><p>file://${theme_path}/page.tpl.php</p>
<h3 id="theme-‘region’-gt"><a href="#theme-‘region’-gt" class="headerlink" title="theme(‘region’) =&gt;"></a>theme(‘region’) =&gt;</h3><h3 id="theme-‘block’"><a href="#theme-‘block’" class="headerlink" title="theme(‘block’)"></a>theme(‘block’)</h3><h3 id="theme-‘menu-tree’"><a href="#theme-‘menu-tree’" class="headerlink" title="theme(‘menu_tree’)"></a>theme(‘menu_tree’)</h3><ul>
<li>@see theme(‘menu_link’) for $variables[‘tree’]</li>
</ul>
<figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * <span class="doctag">@see</span> $&#123;module&#125;_$&#123;element&#125;()</span></div><div class="line"><span class="comment"> */</span></div><div class="line">function $&#123;module&#125;_menu_tree($variables)&#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">'&lt;ul class="menu nav"&gt;'</span> . $variables[<span class="string">'tree'</span>] . <span class="string">'&lt;/ul&gt;'</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">function $&#123;module&#125;_menu_tree__main_menu($variables)&#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">'&lt;ul class="menu nav main-menu"&gt;'</span> . $variables[<span class="string">'tree'</span>] . <span class="string">'&lt;/ul&gt;'</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">function $&#123;module&#125;_menu_tree__primary($variables)&#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">'&lt;ul class="menu nav primary"&gt;'</span> . $variables[<span class="string">'tree'</span>] . <span class="string">'&lt;/ul&gt;'</span>;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="theme-‘menu-link’"><a href="#theme-‘menu-link’" class="headerlink" title="theme(‘menu_link’)"></a>theme(‘menu_link’)</h3><ul>
<li>@see theme(‘menu_tree’) for children =&gt; $variables[‘element’][‘#below’]</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">function $&#123;module&#125;_menu_link($variables)&#123;</div><div class="line">    $element = $variables[&apos;element&apos;];</div><div class="line">    $sub_menu = &apos;&apos;;</div><div class="line">    if ($element[&apos;#below&apos;]) &#123;</div><div class="line">        /**</div><div class="line">         * render children.</div><div class="line">         * @see theme(&apos;menu_tree&apos;)</div><div class="line">         *  - $element[&apos;#below&apos;][&apos;#theme_wrappers&apos;] 对应 menu_tree 的</div><div class="line">         */</div><div class="line">        $sub_menu = drupal_render($element[&apos;#below&apos;]);</div><div class="line">    &#125;</div><div class="line">    $output = l($element[&apos;#title&apos;], $element[&apos;#href&apos;], $element[&apos;#localized_options&apos;]);</div><div class="line">    return &apos;&lt;li&apos; . drupal_attributes($element[&apos;#attributes&apos;]) . &apos;&gt;&apos; . $output . $sub_menu . &quot;&lt;/li&gt;\n&quot;;</div><div class="line">&#125;</div><div class="line"></div><div class="line">function $&#123;module&#125;_menu_link__main_menu($variables)&#123;</div><div class="line">    $output = &apos;&apos;;</div><div class="line">    //$output build...</div><div class="line">    return $output;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

                </div>
            </div>


            <div class="hard back-side"></div>
            <div class="hard back-cover"></div>
            <!-- Next button -->
            <div ignore="1" class="next-button">
                
                    <a href="/piece/Javascript 原生 Ajax 请求.html">
                        原生 Javascript Ajax 请求
                    </a>
                    
            </div>

        </div>
    </div>
</div>

        </div>
    </body>
</html>
